%! Author = Stanisław Oziemczuk
%! Date = 02/01/2026


\section{Strona mapy}
\label{sec:strona-mapy}

Moduł mapy umożliwia przeglądanie dostępnych \glslink{spot}{spotów}.
Został podzielony na kilka głównych części:
\begin{itemize}
    \item mapę ze \glslink{spot}{spotami}
    \item panel szczegółów \glslink{spot}{spota}
    \item panel z danymi pogodowymi
    \item galerię multimediów
\end{itemize}

\subsection{Mapa ze spotami}
\label{subsec:mapa-ze-spotami}

W tej części modułu użytkownik może przeglądać dostępne \glslink{spot}{spoty} na mapie wyświetlane w formie wielokątów (rys. \ref{fig:mapa-spoty-wielokaty}).
Po odpowiednim oddaleniu widoku, w zależności od pola powierzchni obszaru, zostanie ono zaprezentowane jako marker (rys. \ref{fig:mapa-spoty-markery}).

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/mapa_spoty_wielokaty}
    \caption{Spoty na mapie prezentowane w formie wielokątów.}
    \label{fig:mapa-spoty-wielokaty}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/mapa_spoty_markery}
    \caption{Spoty na mapie prezentowane w formie markerów.}
    \label{fig:mapa-spoty-markery}
\end{figure}

Zaimplementowany został przycisk do sprawdzania aktualnej pozycji użytkownika.
Po jego kliknięciu na mapie wyświetlane jest koło oznaczające jego pozycję (rys. \ref{fig:mapa-lokalizacja-uzytkownika}), a widok mapy zostaje
płynnie na nią przybliżony.

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/mapa_spoty_markery}
    \caption{Aktualna lokalizacja użytkownika zaznaczona na mapie.}
    \label{fig:mapa-lokalizacja-uzytkownika}
\end{figure}

Przycisk \texttt{Search this area} pozwala na wyświetlenie listy \glslink{spot}{spotów} znajdujących się w
widzianym obszarze mapy (rys. \ref{fig:mapa-search-area-lista-spotow}).
O ich braku użytkownik informowany jest odpowiednim komunikatem (rys. \ref{fig:mapa-search-area-brak-spotow}).

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/search_area_spots_list}
    \caption{Lista spotów znajdujących się w widocznym obszarze mapy.}
    \label{fig:mapa-search-area-lista-spotow}
\end{figure}

Na liście każdy element zawiera nazwę \glslink{spot}{spota}, jego ocene wraz z ich liczbą, listę tagów oraz zdjęcie.
Kliknięcie jendego z wyników powoduje przubliżenie widoku mapy na jego lokalizację.

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/search_area_no_spots}
    \caption{Brak spotów znajdujących się w widocznym obszarze mapy.}
    \label{fig:mapa-search-area-brak-spotow}
\end{figure}

Otrzymane wyniki można posortować po ocenie lub liczbie ocen (w każdym wypadku malejąco lub rosnąco).
Domyślnie lista nie jest w żaden sposób sortowana.
Dostępne opcje przedstawiono na rys. \ref{fig:mapa-search-area-sortowanie}:

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/search_area_sorting}
    \caption{Opcje sortowania wyników wyszukiwania spotów w widocznym obszarze mapy.}
    \label{fig:mapa-search-area-sortowanie}
\end{figure}

Możliwe jest również ustawienie filtrów po nazwie (rys. \ref{fig:mapa-search-filtrowanie-nazwa}) \textendash \space podczas wpisywania wyświetlane są podpowiedzi \textendash \space oraz
wegług minimalnej ocenie \glslink{spot}{spota} (rys. \ref{fig:mapa-search-filtrowanie-ocena}).
Po ustawieniu opcji, wyświetlane są tylko elementy spełniające warunki (rys. \ref{fig:mapa-search-filtrowanie-wyniki}).

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/search_area_name_filter}
    \caption{Opcja filtrowania wyników wyszukiwania spotów w widocznym obszarze mapy po nazwie z podpowiedziami.}
    \label{fig:mapa-search-filtrowanie-nazwa}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/search_area_rating_from_filter}
    \caption{Opcja filtrowania wyników wyszukiwania spotów w widocznym obszarze mapy według minimalnej oceny.}
    \label{fig:mapa-search-filtrowanie-ocena}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/search_area_name_filter}
    \caption{Wyniki wyszukiwania spotów w widocznym obszarze mapy po ustawionych filtrach.}
    \label{fig:mapa-search-filtrowanie-wyniki}
\end{figure}

Na mapie użytkownik może przeszukiwać \glslink{spot}{spoty} po nazwie.
W tym celu do pola \texttt{Search on map} należy wpisać frazę, a po rozpoczęciu wprowadzania danych zostaną
wyświetlone podpowiedzi (rys. \ref{fig:mapa-search-by-name-podpowiedzi}).
Po zatwierdzeniu filtra zostanie wyświetlony panel z listą wyników (rys. \ref{fig:mapa-search-by-name-wyniki}).
W przypadku braku pasujących elementów pojawi się odpowiedni komunikat (rys. \ref{fig:mapa-search-by-name-brak-wynikow}).

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/search_by_name_hints}
    \caption{Lista podpowiedzi podczas wpisywania frazy w pole \texttt{Search on map}.}
    \label{fig:mapa-search-by-name-podpowiedzi}
\end{figure}

Każdy element na liście prezentuje nazwę \glslink{spot}{spota}, jego ocenę wraz ich liczbą, listę tagów oraz zdjęcie.
Kliknięcie na wybraną pozycję powoduje przbliżenie widoku mapy na jej lokalizację.

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/search_by_name_spots_list}
    \caption{Lista wyników spotów zawierających frazę wpisaną w pole \texttt{Search on map}.}
    \label{fig:mapa-search-by-name-wyniki}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/search_by_name_empty_list}
    \caption{Komunikat informujący o braku spotów pasujących do wpisanej frazy w pole \texttt{Search on map}.}
    \label{fig:mapa-search-by-name-brak-wynikow}
\end{figure}

Prezentowane wyniki można sortować po ocenie lub liczbie ocen, w obu przypadkach dostępne warianty: malejąco i rosnąco.
Domyślnie elementy nie są sortowane.
Przygotowany formularz z dostępnymi opcjami przedstawiono na rysunku \ref{fig:mapa-search-by-name-sortowanie} poniżej:

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/search_by_name_spots_list_sorting}
    \caption{Formularz ustawiający sortowanie listy wyników spotów zawierających frazę wpisaną w pole \texttt{Search on map}.}
    \label{fig:mapa-search-by-name-sortowanie}
\end{figure}

\subsection{Panel ze szczegółami spota}
\label{subsec:panel-ze-szczegolami-spota}

Panel ze szczegółami \glslink{spot}{spota} wyświetla o nim dokładne informacje (rys. \ref{fig:spot-details-1}).
Widoczne są jego dane lokalizacyjne, nazwa, opis, średnia ocen oraz ich liczba, galeria multimediów, przyciski akcji, a
także sekcja z komentarzami.

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/spot_details_1}
    \caption{Panel ze szczegółami spota.}
    \label{fig:spot-details-1}
\end{figure}

Galeria multimediów pozwala na ich przeglądanie za pomocą umieszczonych na jej bokach strzałek (rys. \ref{fig:spot-details-2}).
Kliknięcie zdjęcia powoduje wyświetlenie go w dużej wersji galerii, natomiast w przypadku filmu \textendash \space jego odtworzenie.

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/spot_details_2}
    \caption{Przełączanie multimediów w galerii zdjęć i filmów spota.}
    \label{fig:spot-details-2}
\end{figure}

Znajdujące się poniżej przyciski akcji pozwalają użytkowikowi na wykonanie czynności związanych z wybranym \glslink{spot}{spotem}:
\begin{itemize}
    \item \textbf{nawigację} \textendash \space po kliknięciu pierwszego przycisku od lewej w przeglądarce otwierana jest nowa karta z \texttt{Google Maps}
    z trasą wyznaczoną od lokalizacji użytkownika do wskazanego miejsca;
    \item \textbf{edycję listy ulubionych \glslink{spot}{spotów}} \textendash \space czynność ta wymaga zalogowania (w przypadku
    jego braku wyświetlany jest odpowiedni komunikat, rys. \ref{fig:spot-log-in-info}) i pozwala użytkownikowi na dodanie \glslink{spot}{spota} do listy ulubionych
    (ikona zostaje wypełniona) (rys. \ref{fig:spot-details-1}), a jej ponowne kliknięcie powoduje jego usunięcie
    (ikona jest w środku pusta, rys. \ref{fig:spot-not-in-favourites});
    \item \textbf{udostępnienie \glslink{spot}{spota}} \textendash \space kliknięcie tego przycisku powoduje skopiowanie linku do
    pamięci podręcznej sytemu o czym informuje odpowiedni komunikat (rys. \ref{fig:spot-share}); wklejenie go w pasek przeglądarki
    otwiera panel ze szczegółami danego miejsca;
    \item \textbf{dodanie multimediów} \textendash \space akcja ta wymaga zalogowania (w przypadku jego braku wyświetlany jest odpowiedni komunikat,
    rys. \ref{fig:spot-log-in-info}),
    otwiera formularz umożliwiający wybranie z urządzenia zdjęć i\\lub filmów i dołączenie ich do wybranego miesjca (rys. \ref{fig:spot-add-media-form}).
    Jeżeli żadne multimedia nie zostaną dołączone, wysłanie formularza będzie niemożliwe o zostanie wyświetlona informacja o błędzie (rys. \ref{fig:spot-add-media-form-error}).
    Wybrane pliki wyświetlane są w formie listy (rys. \ref{fig:spot-add-media-form-one-element}).
    Najechanie na jeden z nich powoduje jego przyciemienie, a kliknięcie usunięcie z listy.
    O pomyślnym przebiegu operacji informuje powiadomienie, a nowo dodane elementy widoczne są w galerii multimediów \glslink{spot}{spota} (rys. \ref{fig:spot-add-media-form-suceess}).
\end{itemize}

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/spot_log_in_info}
    \caption{Komunikat informujący, że do wybranej akcji wymagane jest zalogowanie.}
    \label{fig:spot-log-in-info}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/spot_not_in_favourites}
    \caption{Pusta ikona (druga od lewej) wskazuje na brak spota w liście ulubionych.}
    \label{fig:spot-not-in-favourites}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/spot_share_success_info}
    \caption{Komunikat informujący o pomyślnym skopiowaniu linku udostępniającego.}
    \label{fig:spot-share}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/spot_add_media_form}
    \caption{Formularz umożliwiający dodanie multimediów do spota.}
    \label{fig:spot-add-media-form}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/spot_add_media_form_error}
    \caption{Komunikat informujący o błędzie w formularzu umożliwiającym dodanie multimediów do spota.}
    \label{fig:spot-add-media-form-error}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/spot_add_media_form_one_media}
    \caption{Lista wybranych elementów w formularzu umożliwiającym dodanie multimediów do spota.}
    \label{fig:spot-add-media-form-one-element}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{attachments/prezentacja-systemu/mapa/spot_add_media_success}
    \caption{Komunikat informujący o pomyślnym zakończeniu operacji dodania multimediów do spota.}
    \label{fig:spot-add-media-form-suceess}
\end{figure}
