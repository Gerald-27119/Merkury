%! Author = Mateusz
%! Date = 26/11/2025

\subsection{Endpointy systemu}
\label{subsec:endpointy-systemu}

%\newcounter{endpoint}[chapter]
%\renewcommand{\theendpoint}{\thechapter.\arabic{endpoint}}

% --- Pola endpointu (lewa kolumna) ---
\newcommand{\epid}[1]{\textbf{ID endpointu:} & #1 \\ \hline}
\newcommand{\epurl}[1]{\textbf{URL:} & #1 \\ \hline}
\newcommand{\epname}[1]{\textbf{Nazwa:} & #1 \\ \hline}
\newcommand{\epinput}[1]{\textbf{Co przyjmuje:} & #1 \\ \hline}
\newcommand{\epquery}[1]{\textbf{Query params:} & #1 \\ \hline}
\newcommand{\epresponse}[1]{\textbf{Response codes:} & #1 \\ \hline}
\newcommand{\epoutput}[1]{\textbf{Co zwraca:} & #1 \\ \hline}

% --- Endpoint card ---
% --- Endpoint card z output ---
\newcommand{\cardendpoint}[7]{%
    \par\begin{center}
    \renewcommand{\arraystretch}{1.15}%
    \begin{tabularx}{\textwidth}{|>{\columncolor{lightgray}\raggedright\arraybackslash}p{0.2\textwidth}|X|}
    \rowcolor{lightgray}
    \multicolumn{2}{|c|}{\textbf{ENDPOINT API}} \\ \hline
    \epid{#1}
    \epurl{#2}
    \epname{#3}
    \epinput{#4}
    \epquery{#5}
    \epresponse{#6}
    \epoutput{#7}
    \end{tabularx}
    \end{center}%
}


\cardendpoint
{EP02} % ID
{/user-dashboard/profile} % URL
{Pobierz własny profil użytkownika} % Nazwa
{Brak} % Co przyjmuje
{Brak} % Query params
{200 OK, 404 Not Found, 401 Unauthorized} % Response codes
{%
    \begin{itemize}[leftmargin=*]
        \item \textbf{username}: String
        \item \textbf{profilePhoto}: String (URL)
        \item \textbf{followersCount}: Integer
        \item \textbf{followedCount}: Integer
        \item \textbf{friendsCount}: Integer
        \item \textbf{photosCount}: Integer
        \item \textbf{mostPopularPhotos}: List<ImageDto>
    \end{itemize}
}



%\noindent\textbf{Panel użytkownika}

%\begin{itemize}
%\item \lstinline{GET /user-dashboard/profile}
%\item \lstinline{GET /public/user-dashboard/profile/"targetUsername"}
%\item \lstinline{PATCH /user-dashboard/profile}
%\item \lstinline{GET /user-dashboard/friends}
%\item \lstinline{GET /public/user-dashboard/friends/"targetUsername"}
%\item \lstinline{PATCH /user-dashboard/friends}
%\item \lstinline{PATCH /user-dashboard/friends/change-status}
%\item \lstinline{GET /user-dashboard/followers}
%\item \lstinline{GET /public/user-dashboard/followers/"targetUsername"}
%\item \lstinline{GET /user-dashboard/followed}
%\item \lstinline{GET /public/user-dashboard/followed/"targetUsername"}
%\item \lstinline{GET /user-dashboard/friends/find}
%\item \lstinline{GET /user-dashboard/friends/invites}
%\item \lstinline{PATCH /user-dashboard/followed}
%\item \lstinline{GET /user-dashboard/favorite-spots}
%\item \lstinline{PATCH /user-dashboard/favorite-spots}
%\item \lstinline{GET /user-dashboard/photos}
%\item \lstinline{GET /user-dashboard/comments}
%\item \lstinline{PATCH /user-dashboard/settings}
%\item \lstinline{GET /user-dashboard/settings}
%\item \lstinline{GET /user-dashboard/movies}
%\item \lstinline{GET /user-dashboard/photos/"targetUsername"}
%\item \lstinline{GET /user-dashboard/add-spot}
%\item \lstinline{POST /user-dashboard/add-spot}
%\item \lstinline{GET /user-dashboard/add-spot/coordinates}
%\end{itemize}
%
%\noindent\textbf{Strona główna}
%
%\begin{itemize}
%  \item \lstinline{GET /public/spot/most-popular}
%  \item \lstinline{GET /public/spot/search/home-page}
%  \item \lstinline{GET /public/spot/search/home-page/locations}
%  \item \lstinline{GET /public/spot/search/home-page/advance}
%\end{itemize}
%
%\noindent\textbf{Konto użytkownika}
%
%\begin{itemize}
%  \item \lstinline{POST /public/account/register}
%  \item \lstinline{POST /public/account/login}
%  \item \lstinline{GET /account/login-success}
%  \item \lstinline{POST /public/account/forgot-password}
%  \item \lstinline{POST /public/account/set-new-password}
%  \item \lstinline{GET /account/check}
%\end{itemize}