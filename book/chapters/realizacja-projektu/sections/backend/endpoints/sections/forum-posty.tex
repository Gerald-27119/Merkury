%! Author = Mateusz
%! Date = 30/11/2025

\noindent\textbf{Forum – posty}

\cardendpoint
{EP20}
{/public/post/\{postId\}}
{Pobierz szczegółowe informacje o poście}
{%
    \begin{tabitemize}
        \item \textbf{postId}: Long (ID posta w ścieżce URL)
    \end{tabitemize}
}
{Brak}
{200 OK, 404 Not Found}
{%
    \begin{tabitemize}
        \item \textbf{PostDetailsDto}, zawiera m.in.:
        \begin{itemize}
            \item \textbf{id}: Long
            \item \textbf{title}: String (tytuł posta)
            \item \textbf{content}: String (pełna treść posta)
            \item \textbf{category}: ForumCategoryDto
            \item \textbf{tags}: List<ForumTagDto>
            \item \textbf{author}: AuthorDto (dane autora)
            \item \textbf{isAuthor}: Boolean (czy bieżący użytkownik jest autorem)
            \item \textbf{isFollowed}: Boolean (czy bieżący użytkownik obserwuje post)
            \item \textbf{publishDate}: LocalDateTime (data publikacji)
            \item \textbf{views}: Integer (liczba wyświetleń)
            \item \textbf{upVotes}: Integer
            \item \textbf{downVotes}: Integer
            \item \textbf{isUpVoted}: Boolean (czy użytkownik oddał głos w górę)
            \item \textbf{isDownVoted}: Boolean (czy użytkownik oddał głos w dół)
            \item \textbf{commentsCount}: Integer (liczba komentarzy)
        \end{itemize}
    \end{tabitemize}
}

\cardendpoint
{EP21}
{/post}
{Dodaj nowy post na forum}
{%
    \begin{tabitemize}
        \item \textbf{body}: PostDto (JSON z danymi posta: tytuł, treść, kategoria, tagi itp.)
    \end{tabitemize}
}
{Brak}
{201 Created, 400 Bad Request, 404 Not Found, 409 Conflict, 422 Unprocessable Entity}
{Brak (pusta odpowiedź)}

\cardendpoint
{EP22}
{/post/\{postId\}}
{Usuń wybrany post}
{%
    \begin{tabitemize}
        \item \textbf{postId}: Long (ID posta w ścieżce URL)
    \end{tabitemize}
}
{Brak}
{204 No Content, 401 Unauthorized, 404 Not Found}
{Brak (pusta odpowiedź)}

\cardendpoint
{EP23}
{/post/\{postId\}/vote}
{Oddaj głos na post (góra/dół)}
{%
    \begin{tabitemize}
        \item \textbf{postId}: Long (ID posta w ścieżce URL)
    \end{tabitemize}
}
{%
    \begin{tabitemize}
        \item \textbf{isUpvote}: boolean (true = głos w górę, false = głos w dół)
    \end{tabitemize}
}
{200 OK, 401 Unauthorized, 404 Not Found}
{Brak (pusta odpowiedź)}

\cardendpoint
{EP24}
{/public/categories-tags}
{Pobierz listę wszystkich kategorii i tagów forum}
{Brak}
{Brak}
{200 OK}
{%
    \begin{tabitemize}
        \item \textbf{ForumCategoriesAndTagsDto}:
        \begin{itemize}
            \item \textbf{categories}: List<ForumCategoryDto>, gdzie każdy element zawiera:
            \begin{itemize}
                \item \textbf{id}: Long
                \item \textbf{name}: String
                \item \textbf{description}: String
                \item \textbf{colour}: String (kolor kategorii)
            \end{itemize}
            \item \textbf{tags}: List<ForumTagDto>, gdzie każdy element zawiera:
            \begin{itemize}
                \item \textbf{id}: Long
                \item \textbf{name}: String
            \end{itemize}
        \end{itemize}
    \end{tabitemize}
}
